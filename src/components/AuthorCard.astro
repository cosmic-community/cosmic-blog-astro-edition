---
// src/components/AuthorCard.astro
import type { Author } from '@/types'

export interface Props {
  author: Author
}

const { author } = Astro.props
const profilePhoto = author.metadata?.profile_photo
---

<a
  href={`/authors/${author.slug}`}
  class="block bg-white rounded-2xl border border-gray-100 p-6 hover:shadow-lg hover:border-gray-200 hover:-translate-y-1 transition-all duration-300"
>
  <div class="flex items-center gap-4">
    {profilePhoto ? (
      <img
        src={`${profilePhoto.imgix_url}?w=128&h=128&fit=crop&auto=format,compress`}
        alt={author.metadata?.name || author.title}
        class="w-16 h-16 rounded-full object-cover ring-2 ring-primary-100"
        width="64"
        height="64"
      />
    ) : (
      <div class="w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-bold text-xl">
        {(author.metadata?.name || author.title).charAt(0)}
      </div>
    )}

    <div class="flex-1 min-w-0">
      <h3 class="text-lg font-bold text-gray-900 truncate">
        {author.metadata?.name || author.title}
      </h3>
      {author.metadata?.bio && (
        <p class="text-sm text-gray-500 line-clamp-2 mt-1">{author.metadata.bio}</p>
      )}
    </div>
  </div>
</a>